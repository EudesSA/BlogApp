{{#each erros}}
    <div class="alert alert-danger">{{texto}}</div>
{{else}}
{{/each}}

<div class="card">
    <div class="card-body">
        <h4>Editar Postagem:</h4>
        <form action="/admin/postagem/editado" method="POST">
            <input type="hidden" value="{{postagem._id}}" name="id">

            <label for="titulo">Título: </label>
            <input type="text" name="titulo" class="form-control" value="{{postagem.titulo}}">

            <label for="slug">Slug: </label>
            <input type="text" name="slug" class="form-control" value="{{postagem.slug}}"> 

            <label for="descricao">Descrição</label>
            <input type="text" name="descricao" class="form-control" value="{{postagem.descricao}}">

            <label for="conteudo">Conteúdo</label>
            <textarea class="form-control" name="conteudo">{{postagem.conteudo}}</textarea>

            <label for="categoria">Categoria</label>
                <select class="custom-select" name="categoria" id="categoria">                    
                    {{#each categorias}}
                        <option value="{{_id}}">{{nome}}</option>
                    {{else}}
                        ><option value="0">Nenhuma categoria registrada</option>
                    {{/each}}
                </select>

            <button class="btn btn-success mt-4" type="submit">Editar Postagem</button>
            
        </form>        
    </div>

</div>

<!--codigo para selecionar o correto -->
<script>
 document.body.onload = new function(){
  var cat = document.getElementById('categoria')
  var categoriaPost = "{{postagem.categoria._id}}"
  var categoria = cat.options[0].value
  while (categoria != categoriaPost){
   cat.selectedIndex++
   categoria=cat.options[cat.selectedIndex].value
  }
 }
</script>